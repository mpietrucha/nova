(()=>{"use strict";var e,t={262:(e,t,n)=>{const r=Vue;const o="undefined"!=typeof window&&"undefined"!=typeof document,l=("undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope),Object.prototype.toString),u=e=>"[object Object]"===l.call(e),a=()=>{};function i(...e){if(1!==e.length)return(0,r.toRef)(...e);const t=e[0];return"function"==typeof t?(0,r.readonly)((0,r.customRef)(()=>({get:t,set:a}))):(0,r.ref)(t)}function c(e,t){return function(...n){return new Promise((r,o)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(o)})}}const f=e=>e();function s(e){return Array.isArray(e)?e:[e]}function d(e){const t=Object.create(null);return n=>t[n]||(t[n]=e(n))}const p=/\B([A-Z])/g,v=(d(e=>e.replace(p,"-$1").toLowerCase()),/-(\w)/g);d(e=>e.replace(v,(e,t)=>t?t.toUpperCase():""));function m(e){return e||(0,r.getCurrentInstance)()}function y(e,t,n={}){const{eventFilter:o=f,...l}=n;return(0,r.watch)(e,c(o,t),l)}const b=function(e,t,n={}){const{eventFilter:o,initialState:l="active",...u}=n,{eventFilter:a,pause:c,resume:s,isActive:d}=function(e=f,t={}){const{initialState:n="active"}=t,o=i("active"===n);return{isActive:(0,r.readonly)(o),pause:function(){o.value=!1},resume:function(){o.value=!0},eventFilter:(...t)=>{o.value&&e(...t)}}}(o,{initialState:l});return{stop:y(e,t,{...u,eventFilter:a}),pause:c,resume:s,isActive:d}};for(var g=36,w="";g--;)w+=g.toString(36);function h(e){for(var t="",n=e||11;n--;)t+=w[36*Math.random()|0];return t}const V=o?window:void 0;o&&window.document,o&&window.navigator,o&&window.location;function k(e){var t;const n=(0,r.toValue)(e);return null!==(t=null==n?void 0:n.$el)&&void 0!==t?t:n}function S(...e){const t=(0,r.computed)(()=>{const t=s((0,r.toValue)(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0});return n=()=>{var n,o;return[null!==(n=null===(o=t.value)||void 0===o?void 0:o.map(e=>k(e)))&&void 0!==n?n:[V].filter(e=>null!=e),s((0,r.toValue)(t.value?e[1]:e[0])),s((0,r.unref)(t.value?e[2]:e[1])),(0,r.toValue)(t.value?e[3]:e[2])]},o=([e,t,n,r],o,l)=>{if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length)||!(null==n?void 0:n.length))return;const a=u(r)?{...r}:r,i=e.flatMap(e=>t.flatMap(t=>n.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,a))));l(()=>{i.forEach(e=>e())})},l={flush:"post"},(0,r.watch)(n,o,{...l,immediate:!0});var n,o,l}Symbol("vueuse-ssr-width");const _="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x="__vueuse_ssr_handlers__",O=N();function N(){return x in _||(_[x]=_[x]||{}),_[x]}function B(e,t){return O[e]||t}function C(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}const j={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},E="vueuse-storage";function M(e,t,n,o={}){var l;const{flush:u="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:c=!0,mergeDefaults:f=!1,shallow:s,window:d=V,eventFilter:p,onError:v=e=>{console.error(e)},initOnMounted:y}=o,g=(s?r.shallowRef:r.ref)("function"==typeof t?t():t),w=(0,r.computed)(()=>(0,r.toValue)(e));if(!n)try{n=B("getDefaultStorage",()=>null==V?void 0:V.localStorage)()}catch(e){v(e)}if(!n)return g;const h=(0,r.toValue)(t),k=C(h),_=null!==(l=o.serializer)&&void 0!==l?l:j[k],{pause:x,resume:O}=b(g,e=>function(e){try{const t=n.getItem(w.value);if(null==e)M(t,null),n.removeItem(w.value);else{const r=_.write(e);t!==r&&(n.setItem(w.value,r),M(t,r))}}catch(e){v(e)}}(e),{flush:u,deep:a,eventFilter:p});(0,r.watch)(w,()=>A(),{flush:u});let N=!1;function M(e,t){if(d){const r={key:w.value,oldValue:e,newValue:t,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",r):new CustomEvent(E,{detail:r}))}}function A(e){if(!e||e.storageArea===n)if(e&&null==e.key)g.value=h;else if(!e||e.key===w.value){x();try{const t=_.write(g.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(g.value=function(e){const t=e?e.newValue:n.getItem(w.value);if(null==t)return c&&null!=h&&n.setItem(w.value,_.write(h)),h;if(!e&&f){const e=_.read(t);return"function"==typeof f?f(e,h):"object"!==k||Array.isArray(e)?e:{...h,...e}}return"string"!=typeof t?t:_.read(t)}(e))}catch(e){v(e)}finally{e?(0,r.nextTick)(O):O()}}}return d&&i&&(n instanceof Storage?S(d,"storage",e=>{y&&!N||A(e)},{passive:!0}):S(d,E,e=>{y&&!N||A(e.detail)})),y?function(e,t=!0,n){m(n)?(0,r.onMounted)(e,n):t?e():(0,r.nextTick)(e)}(()=>{N=!0,A()}):A(),g}Number.POSITIVE_INFINITY;const A=function(e){return function(e,t,n={}){const{window:r=V}=n;return M(e,t,null==r?void 0:r.localStorage,n)}(function(e){return["mpietrucha","filterable",window.location.pathname.split("/"),e].flat().filter(Boolean).join(".")}((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).name),function(e){return"function"==typeof e?e():e}(e))};const D=function(e){var t=i(e||A(function(){return[]},{name:"rows"}));return{rows:t,clearRows:function(){t.value=[]},addRow:function(){t.value.push({id:h()})},deleteRow:function(e){var n=e.id;t.value=t.value.filter(function(e){return e.id!==n})}}};function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=void 0===t?h():t,r=e.rows;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:n},D(r||[]))},P=function(e){return[U(e)]};const R=function(e){var t=i(e||function(){var e=A(function(){return P()},{name:"groups"});return e.value=e.value.map(function(e){return U(e)}),e}());return{groups:t,clearGroups:function(){t.value=P()},addGroup:function(){t.value.push(U())},deleteGroup:function(e){var n=e.id;t.value=t.value.filter(function(e){return e.id!==n})}}},$=LaravelNovaUi;var G={class:"mt-4 flex flex-col md:flex-row md:items-center justify-center md:justify-end space-y-2 md:space-y-0 md:space-x-3"};const L={__name:"FilterableFooter",setup:function(e){return function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",G,[(0,r.createVNode)((0,r.unref)($.Button),{variant:"ghost",onClick:t[0]||(t[0]=function(t){return e.$emit("clear")})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.__("filterable.footer.clear")),1)]}),_:1}),(0,r.createVNode)((0,r.unref)($.Button),{onClick:t[1]||(t[1]=function(t){return e.$emit("submit")})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.__("filterable.footer.filter")),1)]}),_:1})])}}},q={__name:"FilterableGroupButton",props:{icon:{type:String,default:"plus-circle"}},setup:function(e){return function(t,n){return(0,r.openBlock)(),(0,r.createBlock)((0,r.unref)($.Button),{variant:"action",icon:e.icon},null,8,["icon"])}}};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,u,a=[],i=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(a.push(r.value),a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var H={key:0,class:"flex items-center"};const W={__name:"FilterableSelect",props:(0,r.mergeModels)({options:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e){var t=e,n=(0,r.useModel)(e,"modelValue"),o=(0,r.ref)(""),l=(0,r.computed)(function(){return t.options.filter(function(e){return e.name.toLowerCase().includes(o.value.toLowerCase())})});return(0,r.onMounted)(function(){var e=J(l.value,1)[0];n.value||void 0===e||(n.value=e)}),function(e,t){var u=(0,r.resolveComponent)("SearchInput");return(0,r.openBlock)(),(0,r.createBlock)(u,{options:l.value,onInput:t[0]||(t[0]=function(e){return o.value=e}),onSelected:t[1]||(t[1]=function(e){return n.value=e})},{default:(0,r.withCtx)(function(){return[n.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",H,(0,r.toDisplayString)(n.value.name),1)):(0,r.createCommentVNode)("",!0)]}),option:(0,r.withCtx)(function(e){var t=e.selected,n=e.option;return[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["flex items-center text-sm font-semibold leading-5",{"text-white":t}])},(0,r.toDisplayString)(n.name),3)]}),_:1},8,["options"])}}};var Y={class:"w-1/2 xl:w-[30%]"};const Z={__name:"FilterableRowCondition",props:(0,r.mergeModels)({conditions:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e){var t=(0,r.useModel)(e,"modelValue");return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Y,[(0,r.createVNode)((0,r.unref)(W),{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=function(e){return t.value=e}),options:e.conditions},null,8,["modelValue","options"])])}}};var K={class:"w-1/2 xl:w-1/5 pl-3 xl:pr-3"};const Q={__name:"FilterableRowFilter",props:(0,r.mergeModels)({filters:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e){var t=(0,r.useModel)(e,"modelValue");return function(n,o){return(0,r.openBlock)(),(0,r.createElementBlock)("div",K,[(0,r.createVNode)((0,r.unref)(W),{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=function(e){return t.value=e}),options:e.filters},null,8,["modelValue","options"])])}}};function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,u,a=[],i=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(a.push(r.value),a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){var n=Nova.config("translations")[e]?Nova.config("translations")[e]:e;return Object.entries(null!=t?t:{}).forEach(function(e){var t=X(e,2),r=t[0],o=t[1];if(r=new String(r),null!==o){o=new String(o);for(var l=[":"+r,":"+r.toUpperCase(),":"+r.charAt(0).toUpperCase()+r.slice(1)],u=[o,o.toUpperCase(),o.charAt(0).toUpperCase()+o.slice(1)],a=l.length-1;a>=0;a--)n=n.replace(l[a],u[a])}else console.error("Translation '".concat(n,"' for key '").concat(r,"' contains a null replacement."))}),n}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach(function(t){le(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function le(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=function(){return{__:te,tc:function(e,t,n){var r=te(e,oe(oe({},n),{},{count:t}));if(!1===Number.isInteger(t))return r;var o=r.split("|");return o[Math.min(t,o.length-1)]}}};var ae={class:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden space-y-6"},ie={class:"mt-2 flex justify-between"},ce={class:"text-xs font-semibold text-gray-400"};const fe={__name:"FilterableRowValueInModal",props:(0,r.mergeModels)({show:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{},count:{},countModifiers:{}}),emits:(0,r.mergeModels)(["close"],["update:modelValue","update:count"]),setup:function(e,t){var n=t.emit,o=(0,r.useModel)(e,"modelValue"),l=(0,r.useModel)(e,"count"),u=ue().tc,a=function(){return n("close")};return(0,r.watch)(o,function(e){null!=e&&e.trim()?l.value=e.split(/\r?\n/).length:l.value=0},{immediate:!0}),function(t,n){var i=(0,r.resolveComponent)("ModalHeader"),c=(0,r.resolveComponent)("HelpText"),f=(0,r.resolveComponent)("ModalContent"),s=(0,r.resolveComponent)("ModalFooter"),d=(0,r.resolveComponent)("Modal");return(0,r.openBlock)(),(0,r.createBlock)(d,{show:e.show,role:"dialog",size:"xl",onCloseViaEscape:a},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",ae,[(0,r.renderSlot)(t.$slots,"header",{},function(){return[(0,r.createVNode)(i,null,{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(t.__("filterable.row.value.in.modal.header")),1)]}),_:1})]}),(0,r.renderSlot)(t.$slots,"content",{},function(){return[(0,r.createVNode)(f,null,{default:(0,r.withCtx)(function(){return[(0,r.withDirectives)((0,r.createElementVNode)("textarea",{"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.value=e}),rows:"20",class:"w-full h-auto py-3 block form-control form-input form-control-bordered"},null,512),[[r.vModelText,o.value]]),(0,r.createElementVNode)("div",ie,[(0,r.createVNode)(c,null,{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(t.__("filterable.row.value.in.modal.help")),1)]}),_:1}),(0,r.createElementVNode)("span",ce,(0,r.toDisplayString)((0,r.unref)(u)("filterable.row.value.in.items",l.value)),1)])]}),_:1})]}),(0,r.createVNode)(s,{class:"space-x-3 justify-end"},{default:(0,r.withCtx)(function(){return[(0,r.createVNode)((0,r.unref)($.Button),{onClick:n[1]||(n[1]=function(e){return o.value=void 0,void a()}),variant:"link",state:"mellow"},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(t.__("filterable.row.value.in.modal.clear")),1)]}),_:1}),(0,r.createVNode)((0,r.unref)($.Button),{onClick:n[2]||(n[2]=function(e){return a()})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(t.__("filterable.row.value.in.modal.save")),1)]}),_:1})]}),_:1})])]}),_:3},8,["show"])}}};var se={class:"w-full flex form-control form-input form-control-bordered form-select p-2"};const de={__name:"FilterableRowValueIn",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup:function(e){var t=(0,r.ref)(!1),n=(0,r.ref)(0),o=(0,r.useModel)(e,"modelValue"),l=ue().tc;return function(e,u){var a=(0,r.resolveComponent)("InvertedButton");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createElementVNode)("div",se,[(0,r.createVNode)(a,{iconType:n.value?"arrow-right-circle":"plus-circle",onClick:u[0]||(u[0]=function(e){return t.value=!0})},{default:(0,r.withCtx)(function(){return[n.value?((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:0},[(0,r.createTextVNode)((0,r.toDisplayString)(e.__("filterable.row.value.in.edit"))+" "+(0,r.toDisplayString)((0,r.unref)(l)("filterable.row.value.in.items",n.value)),1)],64)):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createTextVNode)((0,r.toDisplayString)(e.__("filterable.row.value.in.add_items")),1)],64))]}),_:1},8,["iconType"])]),(0,r.createVNode)((0,r.unref)(fe),{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=function(e){return o.value=e}),count:n.value,"onUpdate:count":u[2]||(u[2]=function(e){return n.value=e}),show:t.value,onClose:u[3]||(u[3]=function(e){return t.value=!1})},null,8,["modelValue","count","show"])],64)}}};var pe={key:0,class:"w-full xl:w-1/2 mt-3 xl:mt-0"},ve=["type"];const me={__name:"FilterableRowValue",props:(0,r.mergeModels)({filter:{type:Object,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e){var t=e,n=(0,r.useModel)(e,"modelValue"),o=(0,r.computed)(function(){return t.filter.dependant});return function(e,t){return"none"!==o.value?((0,r.openBlock)(),(0,r.createElementBlock)("div",pe,["in"===o.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(de),{key:0,modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.value=e})},null,8,["modelValue"])):(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("input",{key:1,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.value=e}),type:o.value,class:"w-full form-control form-input form-control-bordered"},null,8,ve)),[[r.vModelDynamic,n.value]])])):(0,r.createCommentVNode)("",!0)}}};var ye={class:"pt-3 px-3"},be={class:"flex space-x-3"},ge={class:"flex w-full"};const we={__name:"FilterableRow",props:(0,r.mergeModels)({conditions:{type:Array,required:!0}},{filter:{},filterModifiers:{},modelValue:{},modelModifiers:{}}),emits:["update:filter","update:modelValue"],setup:function(e){var t=(0,r.ref)(),n=(0,r.useModel)(e,"filter"),o=(0,r.useModel)(e,"modelValue"),l=(0,r.computed)(function(){var e;return null===(e=t.value)||void 0===e?void 0:e.filters});return function(u,a){return(0,r.openBlock)(),(0,r.createElementBlock)("div",ye,[(0,r.createElementVNode)("div",be,[(0,r.createElementVNode)("div",ge,[(0,r.createVNode)((0,r.unref)(Z),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=function(e){return t.value=e}),conditions:e.conditions},null,8,["modelValue","conditions"]),l.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Q),{key:0,modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=function(e){return n.value=e}),filters:l.value},null,8,["modelValue","filters"])):(0,r.createCommentVNode)("",!0),n.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(me),{key:1,modelValue:o.value,"onUpdate:modelValue":a[2]||(a[2]=function(e){return o.value=e}),filter:n.value,class:"hidden xl:block"},null,8,["modelValue","filter"])):(0,r.createCommentVNode)("",!0)]),(0,r.createVNode)((0,r.unref)(q),{onClick:a[3]||(a[3]=(0,r.withModifiers)(function(e){return u.$emit("delete")},["stop"])),icon:"trash"})]),n.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(me),{key:0,modelValue:o.value,"onUpdate:modelValue":a[4]||(a[4]=function(e){return o.value=e}),filter:n.value,class:"block xl:hidden"},null,8,["modelValue","filter"])):(0,r.createCommentVNode)("",!0)])}}};var he={class:"uppercase text-gray-500 text-xs tracking-wide whitespace-nowrap"},Ve={key:0,class:"pb-3 space-y-3 divide-y divide-gray-100 dark:divide-gray-700"};const ke={__name:"FilterableGroup",props:(0,r.mergeModels)({group:{type:String,required:!0},conditions:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e){var t=(0,r.useModel)(e,"modelValue"),n=D(t),o=n.addRow,l=n.deleteRow;return function(n,u){var a=(0,r.resolveComponent)("Card");return(0,r.openBlock)(),(0,r.createBlock)(a,null,{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)(["py-2 px-3 flex justify-between items-center",{"border-b border-gray-100 dark:border-gray-700":t.value.length}])},[(0,r.createElementVNode)("div",he,(0,r.toDisplayString)(e.group),1),(0,r.createVNode)((0,r.unref)(q),{onClick:u[0]||(u[0]=function(e){return(0,r.unref)(o)()})})],2),t.value.length?((0,r.openBlock)(),(0,r.createElementBlock)("div",Ve,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(t.value,function(t){return(0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(we),{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},filter:t.filter,"onUpdate:filter":function(e){return t.filter=e},key:t.id,conditions:e.conditions,onDelete:function(e){return(0,r.unref)(l)(t)}},null,8,["modelValue","onUpdate:modelValue","filter","onUpdate:filter","conditions","onDelete"])}),128))])):(0,r.createCommentVNode)("",!0)]}),_:1})}}};var Se={class:"bg-gray-50 dark:bg-gray-900 rounded-lg border-4 dark:border-gray-600 border-dashed py-3"};var _e=n(881);const xe={},Oe=(0,_e.A)(xe,[["render",function(e,t){var n=(0,r.resolveComponent)("InvertedButton"),o=(0,r.resolveComponent)("Card");return(0,r.openBlock)(),(0,r.createBlock)(o,{class:"p-3"},{default:(0,r.withCtx)(function(){return[(0,r.createElementVNode)("div",Se,[(0,r.createVNode)(n,{onClick:t[0]||(t[0]=function(t){return e.$emit("add")})},{default:(0,r.withCtx)(function(){return[(0,r.createTextVNode)((0,r.toDisplayString)(e.__("filterable.add_new_condition")),1)]}),_:1})])]}),_:1})}]]);var Ne={class:"mb-3"},Be={class:"font-normal text-xl flex items-center"};const Ce={},je=(0,_e.A)(Ce,[["render",function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ne,[(0,r.createElementVNode)("h1",Be,(0,r.toDisplayString)(e.__("filterable.filters")),1)])}]]);var Ee={class:"mpietrucha-nova"};const Me={__name:"Filterable",props:["card"],setup:function(e){var t=D(),n=t.rows,o=t.clearRows,l=t.addRow,u=R(),a=u.groups,i=u.addGroup,c=u.deleteGroup,f=e,s=(0,r.computed)(function(){return f.card.conditions});return(0,r.watch)(n,function(e){e.length||a.value.forEach(function(e){e.rows.forEach(function(t){return e.deleteRow(t)})})}),(0,r.watch)(a,function(e){e.forEach(function(t,n){var r=e[n+1];t.rows.length&&void 0===r&&i(),0===t.rows.length&&void 0!==r&&c(r)})},{deep:!0}),function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",Ee,[(0,r.createVNode)((0,r.unref)(je)),0===(0,r.unref)(n).length?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(Oe),{key:0,onAdd:t[0]||(t[0]=function(e){return(0,r.unref)(l)()})})):((0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,{key:1},[(0,r.createVNode)((0,r.unref)(ke),{modelValue:(0,r.unref)(n),"onUpdate:modelValue":t[1]||(t[1]=function(e){return(0,r.isRef)(n)?n.value=e:null}),group:e.__("filterable.group.and"),conditions:s.value},null,8,["modelValue","group","conditions"]),((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(a),function(t){return(0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(ke),{modelValue:t.rows,"onUpdate:modelValue":function(e){return t.rows=e},class:"mt-3",group:e.__("filterable.group.or"),conditions:s.value},null,8,["modelValue","onUpdate:modelValue","group","conditions"])}),256)),(0,r.createVNode)((0,r.unref)(L),{onClear:t[2]||(t[2]=function(e){return(0,r.unref)(o)()})})],64))])}}};function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,l,u,a=[],i=!0,c=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(r=l.call(n)).done)&&(a.push(r.value),a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{if(!i&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Nova.mp={attributes:function(e){var t,n=null===(t=e._.props)||void 0===t||null===(t=t.field)||void 0===t?void 0:t.extraComponentAttributes;void 0!==n&&Object.entries(n).forEach(function(t){var n=Ae(t,2),r=n[0],o=n[1];e.$el.setAttribute(r,o)})},media:function(e){var t,n,r=function(e,t){var n,r,o=e[t];e[t]=null!==(n=null===(r=o.split("/"))||void 0===r?void 0:r[1])&&void 0!==n?n:o},o=null===(t=e._.props)||void 0===t?void 0:t.file;if(o)r(o,"name");else{var l=null===(n=e._.props)||void 0===n?void 0:n.fields;void 0!==l&&l.filter(function(e){return"repeater-field"===e.component}).map(function(e){var t;return null==e||null===(t=e.value)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.fields}).flat().filter(Boolean).filter(function(e){return"file-field"===e.component}).forEach(function(e){return r(e,"value")})}}},Nova.booting(function(e,t,n){e.component("mpietrucha-filterable",Me),e.mixin({mounted:function(){Nova.mp.media(this),Nova.mp.attributes(this)}})})},503:()=>{},881:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,n,o,l)=>{if(!n){var u=1/0;for(f=0;f<e.length;f++){for(var[n,o,l]=e[f],a=!0,i=0;i<n.length;i++)(!1&l||u>=l)&&Object.keys(r.O).every(e=>r.O[e](n[i]))?n.splice(i--,1):(a=!1,l<u&&(u=l));if(a){e.splice(f--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var f=e.length;f>0&&e[f-1][2]>l;f--)e[f]=e[f-1];e[f]=[n,o,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={416:0,293:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,l,[u,a,i]=n,c=0;if(u.some(t=>0!==e[t])){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(i)var f=i(r)}for(t&&t(n);c<u.length;c++)l=u[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(f)},n=self.webpackChunkmpietrucha_nova=self.webpackChunkmpietrucha_nova||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.O(void 0,[293],()=>r(262));var o=r.O(void 0,[293],()=>r(503));o=r.O(o)})();